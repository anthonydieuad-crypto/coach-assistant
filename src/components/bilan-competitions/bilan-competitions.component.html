
<div class="p-4 sm:p-6">
  <h2 class="text-2xl font-bold text-white mb-6">Bilan des Compétitions</h2>

  <div class="bg-slate-800/50 backdrop-blur-lg border border-white/10 rounded-lg shadow-lg overflow-x-auto">
    <table class="min-w-full divide-y divide-white/10">
      <thead class="bg-black/20">
        <tr>
          <th scope="col" class="sticky left-0 bg-slate-800/95 backdrop-blur-sm px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider z-10 w-48">
            Joueur
          </th>
          @for (evenement of evenementsCompetition(); track evenement.id) {
            <th scope="col" class="px-4 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider whitespace-nowrap">
              <div class="flex flex-col items-center">
                <span class="font-bold">{{ evenement.titre.replace('Plateau à ', '') }}</span>
                <span class="font-normal">{{ formaterDate(evenement.date) }}</span>
                <span class="text-gray-400 font-light">{{ evenement.lieu }}</span>
                 @if (evenement.groupe) {
                  <span class="mt-1 text-xs font-semibold inline-block py-0.5 px-2 uppercase rounded-full bg-amber-400/20 text-amber-300">
                    {{ evenement.groupe }}
                  </span>
                }
              </div>
            </th>
          }
          <th scope="col" class="px-4 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider">
            Total
          </th>
        </tr>
      </thead>
      <tbody class="divide-y divide-white/10">
        @for (joueur of statsJoueur(); track joueur.id) {
          <tr class="hover:bg-white/10">
            <td class="sticky left-0 bg-slate-800/95 backdrop-blur-sm px-4 py-4 whitespace-nowrap text-sm font-medium text-white z-10">
              {{ joueur.prenom }} {{ joueur.nom }}
            </td>
            @for (evenement of evenementsCompetition(); track evenement.id) {
              <td class="px-4 py-4 whitespace-nowrap text-sm text-center">
                @if (estJoueurParticipant(joueur, evenement)) {
                  <span class="text-lime-400 font-bold text-lg">✓</span>
                }
              </td>
            }
            <td class="px-4 py-4 whitespace-nowrap text-sm text-center font-bold text-amber-400">
              {{ joueur.nombreConvocations }}
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>