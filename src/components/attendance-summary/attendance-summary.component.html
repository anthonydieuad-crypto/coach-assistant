<div class="p-4 sm:p-6">
  <h2 class="text-2xl font-bold text-white mb-6">Bilan des Présences</h2>

  <div class="bg-slate-800/50 backdrop-blur-lg border border-white/10 rounded-lg shadow-lg overflow-x-auto">
    <table class="min-w-full divide-y divide-white/10">
      <thead class="bg-black/20">
        <tr>
          <th scope="col" class="sticky left-0 bg-slate-800/95 backdrop-blur-sm px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider z-10">
            Joueur
          </th>
          @for (date of trainingDates(); track date) {
            <th scope="col" class="px-6 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider whitespace-nowrap">
              {{ formatDate(date) }}
            </th>
          }
          <th scope="col" class="px-6 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider">
            Prés.
          </th>
          <th scope="col" class="px-6 py-3 text-center text-xs font-medium text-gray-300 uppercase tracking-wider">
            Abs.
          </th>
        </tr>
      </thead>
      <tbody class="divide-y divide-white/10">
        @for (playerStat of playerStats(); track playerStat.id) {
          <tr class="hover:bg-white/10">
            <td class="sticky left-0 bg-slate-800/95 backdrop-blur-sm px-6 py-4 whitespace-nowrap text-sm font-medium text-white z-10">
              {{ playerStat.firstName }} {{ playerStat.lastName }}
            </td>
            @for (date of trainingDates(); track date) {
              <td class="px-6 py-4 whitespace-nowrap text-sm text-center">
                @if (isPlayerPresent(playerStat, date)) {
                  <span class="text-green-400 font-bold">✓</span>
                } @else {
                  <span class="text-red-500 font-bold">✗</span>
                }
              </td>
            }
            <td class="px-6 py-4 whitespace-nowrap text-sm text-center font-bold text-green-400">
              {{ playerStat.presences }}
            </td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-center font-bold text-red-500">
              {{ playerStat.absences }}
            </td>
          </tr>
        }
      </tbody>
      <tfoot class="border-t-2 border-white/20 bg-black/20">
        <tr>
          <th scope="row" class="sticky left-0 bg-slate-800/95 backdrop-blur-sm px-6 py-3 text-left text-xs font-bold text-gray-200 uppercase z-10">
            Total Présents
          </th>
          @for (stat of dateStats(); track stat.date) {
            <td class="px-6 py-3 text-center text-sm font-bold text-gray-200">
              {{ stat.presentCount }}
            </td>
          }
          <td colspan="2" class="px-6 py-3"></td>
        </tr>
      </tfoot>
    </table>
  </div>
</div>