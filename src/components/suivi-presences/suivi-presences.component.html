<div class="p-6 min-h-screen text-gray-100">
    <h2 class="text-2xl font-bold mb-6">Suivi des Présences</h2>

    <div class="max-w-3xl mx-auto bg-slate-800/50 backdrop-blur-md border border-white/10 rounded-xl p-6 shadow-xl">

        <div class="mb-6">
            <label class="block text-sm font-medium text-gray-400 mb-2">Date de l'entraînement</label>
            <input type="date" [value]="dateEntrainement()" (change)="gererChangementDate($event)"
                   class="w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-amber-500 focus:border-amber-500 outline-none transition-all">
        </div>

        <div class="space-y-2">
            @for (joueur of joueurs(); track joueur.id) {
                <div (click)="basculerJoueur(joueur.id)"
                     class="flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors border"
                     [ngClass]="joueursSelectionnes().has(joueur.id)
                ? 'bg-slate-700/80 border-amber-500/50'
                : 'bg-slate-700/30 border-transparent hover:bg-slate-700/50'">

                    <div class="flex items-center space-x-4">
                        <div class="h-10 w-10 rounded-full overflow-hidden bg-slate-600 border border-white/10 flex-shrink-0">
                            @if (joueur.photoUrl) {
                                <img [ngSrc]="joueur.photoUrl" width="40" height="40" class="h-full w-full object-cover">
                            } @else {
                                <div class="h-full w-full flex items-center justify-center text-slate-400 text-xs font-bold">
                                    {{ joueur.prenom.charAt(0) }}{{ joueur.nom.charAt(0) }}
                                </div>
                            }
                        </div>

                        <span class="font-medium text-lg"
                              [ngClass]="joueursSelectionnes().has(joueur.id) ? 'text-white' : 'text-gray-300'">
              {{ joueur.prenom }} {{ joueur.nom }}
            </span>
                    </div>

                    <div class="h-6 w-6 rounded border flex items-center justify-center transition-all"
                         [ngClass]="joueursSelectionnes().has(joueur.id)
                  ? 'bg-amber-500 border-amber-500 text-white'
                  : 'bg-white border-gray-300'">
                        @if (joueursSelectionnes().has(joueur.id)) {
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
                        }
                    </div>

                </div>
            }
        </div>

        <button (click)="enregistrerPresences()"
                class="w-full mt-8 bg-amber-600 hover:bg-amber-700 text-white font-bold py-3 px-4 rounded-lg transition-colors shadow-md">
            Enregistrer les présences
        </button>

    </div>
</div>